---
title: Fucntions in arrow or normal way
slug: js-arrow-vs-normal-function
image: ./images/close-up-cubes-daytime-design-1154775.jpg
date: "2020-05-01"
published: yes
tags: [js]
---

import { CodeDivWrapper } from "../../css/commonstyles";
import Highlight from "react-highlight.js";

When a function is created the function saves the states of the variables in its outer scope. During running that function it can access it. Closure is called this feature where inner function has access to outer functions variables.

# The Syntax difference

<CodeDivWrapper>

<Highlight>

```js
function A() {
  // ES5 way
  return 10;
}

const B = () => {
  // ES6 way
  return 10;
};
```

</Highlight>

</CodeDivWrapper>

# Application difference: This key word

<CodeDivWrapper>

<Highlight>

```js
const parentA = {
  val: 20;
  A: {
    val: 10,
    getVal: function () { //ES5 way
      return this.val; //10
    }
    getVal: () => { //ES6 way
      return this.val; // undefined, be careful this might be this of the parent
    }
  }
};
```

</Highlight>

</CodeDivWrapper>

# So this will always be unsuable in ES6?

No

Arrow function syntax uses "lexical scoping" to figure out what should be "this". Lexical scope is a fancy way of saying it uses this from the surrounding scope.

# Some other confusing places for this

<CodeDivWrapper>

<Highlight>

```js
function parentA() {
  let val = 20;
  function B() {
    let val = 10;
    console.log(this.val);
  }

  return B;
}
parentA()(); // undefined
```

</Highlight>

</CodeDivWrapper>

<CodeDivWrapper>

<Highlight>

```js
function parentA() {
  let val = 20;

  function B() {
    let val = 10;
    console.log(this.val);
  }

  return B;
}
parentA()(); // undefined, this points to current object not the parent
```

</Highlight>

</CodeDivWrapper>

# Source

1. https://www.geeksforgeeks.org/difference-between-regular-functions-and-arrow-functions/
2. Practical usages of Closures: https://stackoverflow.com/questions/15426854/practical-usage-examples-of-javascript-closures
3. How this works in ES6 arrow function
