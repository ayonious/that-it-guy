---
title: Is await on async function blocking my thread?
slug: nodejs-is-await-blocking-therad
image: ./images/plastic-animal-toys-on-wooden-surface-1319572.jpg
date: "2020-05-07"
published: yes
tags: [js, nodejs, threads, anync]
---

import { CodeDivWrapper } from "../../css/commonstyles";
import Highlight from "react-highlight.js";

# TLDR: NO

This was one of the biggest misconception I had. I always looked at the code of async and await and felt like its blocking

Just look at this code

<CodeDivWrapper>

<Highlight>

```js
async fetchDatafromDb()  {
  const res = await db.fetch();
  return res;
}

console.log("start of one thread");
const res = await fetchDatafromDb();
console.log("res arrived", res);
```

</Highlight>

</CodeDivWrapper>

Now the golder qustion is while the thread is `waiting` for the fetchDatafromDb can some other request start processing?

Yes.

This async/await is just a syntax suger around promise. If you write the equivalent Promise it will be clearer why await is not blocking

<CodeDivWrapper>

<Highlight>

```js
async fetchDatafromDb()  {
  const res = await db.fetch();
  return res;
}

console.log("start of one thread");
const promise = Promise(fetchDatafromDb())

promise.then( res => {
  console.log("res arrived", res);}
)
```

</Highlight>

</CodeDivWrapper>

Here its clear that you can just start processing other requests while this thread is waiting on the response of database fetch.

# Source:

1. https://stackoverflow.com/questions/51583483/does-async-await-blocks-event-loop?noredirect=1&lq=1
2. for loop with async/await: https://stackoverflow.com/questions/44410119/in-javascript-does-using-await-inside-a-loop-block-the-loop
3. https://stackoverflow.com/questions/46004290/will-async-await-block-a-thread-node-js
